<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Jekyll Post Editor</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; background-color: #f4f7f9; color: #333; margin: 0; padding: 20px; }
        .editor-container { max-width: 900px; margin: 0 auto; background: #fff; padding: 25px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #555; }
        input[type="text"] { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1em; }
        textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1em; min-height: 300px; resize: vertical; }
        .toolbar { margin-bottom: 10px; background: #eee; padding: 8px; border-radius: 4px; display: flex; flex-wrap: wrap; gap: 8px; }
        .toolbar button { background: #3498db; color: #fff; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: background 0.2s; }
        .toolbar button:hover { background: #2980b9; }
        .generate-btn { background: #2ecc71; color: #fff; border: none; padding: 12px 20px; border-radius: 4px; cursor: pointer; font-size: 1.1em; font-weight: bold; display: block; width: 100%; margin-top: 20px; transition: background 0.2s; }
        .generate-btn:hover { background: #27ae60; }
        #output { min-height: 400px; background: #2c3e50; color: #ecf0f1; font-family: "Courier New", Courier, monospace; white-space: pre; overflow-wrap: break-word; }
        .info { font-size: 0.9em; color: #777; background: #e8f4fd; padding: 10px; border-radius: 4px; border-left: 4px solid #3498db; }
    </style>
</head>
<body>

<div class="editor-container">
    <h1>Jekyll Post Editor</h1>

    <div class="form-group">
        <label for="title">Judul Postingan</label>
        <input type="text" id="title" placeholder="5 Tips SEO Fundamental untuk Pemula...">
    </div>

    <div class="form-group">
        <label for="description">Deskripsi (untuk SEO, max 160 karakter)</label>
        <input type="text" id="description" placeholder="Pelajari 5 tips SEO fundamental yang wajib diketahui...">
    </div>

    <div class="form-group">
        <label for="image">Path Gambar Unggulan</label>
        <input type="text" id="image" placeholder="/assets/images/nama-gambar-anda.jpg">
        <p class="info"><strong>Penting:</strong> Anda harus mengunggah gambar ini secara manual ke folder <code>/assets/images/</code> di GitHub Anda.</p>
    </div>

    <div class="form-group">
        <label for="content">Konten Artikel</label>
        <div class="toolbar">
            <button onclick="addTag('## ')">H2</button>
            <button onclick="addTag('### ')">H3</button>
            <button onclick="addTag('**')">Bold</button>
            <button onclick="addTag('*')">Italic</button>
            <button onclick="addTag('> ')">Quote</button>
            <button onclick="addTag('* ')">List</button>
            <button onclick="addLink()">Link</button>
            <button onclick="addImage()">Sisipkan Gambar</button>
            <button onclick="addAd()">Sisipkan Iklan</button>
        </div>
        <textarea id="content" placeholder="Tulis artikel Anda di sini..."></textarea>
    </div>

    <button class="generate-btn" onclick="generateRawCode()">Buat Kode Raw Postingan</button>

    <div class="form-group" style="margin-top: 25px;">
        <label for="output">Hasil Kode Raw (Siap di Salin)</label>
        <textarea id="output" readonly></textarea>
    </div>
</div>

<script>
    const contentArea = document.getElementById('content');

    function addTag(tag) {
        const start = contentArea.selectionStart;
        const end = contentArea.selectionEnd;
        const selectedText = contentArea.value.substring(start, end);
        let replacement;

        if (tag === '**' || tag === '*') { // Wrap selected text
            replacement = tag + selectedText + tag;
        } else { // Prepend tag to line
            replacement = tag + selectedText;
        }
        
        contentArea.value = contentArea.value.substring(0, start) + replacement + contentArea.value.substring(end);
        contentArea.focus();
    }

    function addLink() {
        const url = prompt("Masukkan URL:", "https://");
        if (url) {
            const start = contentArea.selectionStart;
            const end = contentArea.selectionEnd;
            const selectedText = contentArea.value.substring(start, end) || "teks link";
            const replacement = `[${selectedText}](${url})`;
            contentArea.value = contentArea.value.substring(0, start) + replacement + contentArea.value.substring(end);
            contentArea.focus();
        }
    }
    
    function addImage() {
        const path = prompt("Masukkan path gambar:", "/assets/images/nama-gambar.jpg");
        if (path) {
            const alt = prompt("Masukkan deskripsi gambar (alt text):", "deskripsi gambar");
            const replacement = `\n![${alt}](${path})\n`;
            contentArea.value += replacement;
            contentArea.focus();
        }
    }

    function addAd() {
        const replacement = `\n\n{% include ad-middle.html %}\n\n`;
        contentArea.value += replacement;
        contentArea.focus();
    }

    function generateRawCode() {
        const title = document.getElementById('title').value;
        const description = document.getElementById('description').value;
        const image = document.getElementById('image').value;
        const content = document.getElementById('content').value;
        
        const frontMatter = `---
layout: post
title: "${title.replace(/"/g, '\\"')}"
description: "${description.replace(/"/g, '\\"')}"
image: ${image}
---`;

        const finalCode = `${frontMatter}\n\n${content}`;
        document.getElementById('output').value = finalCode;
    }
</script>

</body>
</html>
